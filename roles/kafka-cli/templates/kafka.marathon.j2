{% raw %}
{
  "id": "{{kafka.framework-name}}",
  "cpus": {{kafka.app.cpus}},
  "mem": {{kafka.app.mem}},
  "instances": {{kafka.app.instances}},
  "cmd": "jre/bin/java -Xmx{{kafka.app.heap-mb}}m -jar kafka-mesos*.jar scheduler --master={{mesos.master}} --zk={{kafka.zk}} --api={{kafka.api}} --storage=\"{{kafka.storage}}\" --jre={{kafka.jre}} {{#kafka.user}}--user=\"{{kafka.user}}\"{{/kafka.user}} --framework-name=\"{{kafka.framework-name}}\" --framework-role=\"{{kafka.framework-role}}\" {{#kafka.principal}}--principal=\"{{kafka.principal}}\"{{/kafka.principal}} {{#kafka.secret}}--secret=\"{{kafka.secret}}\"{{/kafka.secret}} --log=scheduler.log {{kafka.other-options}}",
  "uris": ["{{kafka.app.jre}}", "{{kafka.app.kafka}}", "{{kafka.app.jar}}"],
  "ports": [0],
  "healthChecks": [
    {
{% endraw %}
      "protocol": "COMMAND",
      "command": { "value": "curl kafka.mesos:{{ kafka_api_port }}/health" },
      "gracePeriodSeconds": 120,
      "intervalSeconds": 60,
      "portIndex": 0,
      "timeoutSeconds": 30,
      "maxConsecutiveFailures": 3
    }
  ]
}
